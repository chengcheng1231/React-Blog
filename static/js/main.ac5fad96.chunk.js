(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{36:function(n,e,t){},55:function(n,e,t){},56:function(n,e,t){"use strict";t.r(e);var a,i,c,o,r,s,d,j,b,p=t(0),x=t.n(p),l=t(25),u=t.n(l),h=(t(36),t(12)),O=t.n(h),f=t(16),g=t(4),m=t(3),v=t(2),w=t.p+"static/media/Lidemy.bd629eee.png",y=Object(p.createContext)(null),k=t(26),S=t.n(k),C="token",z=function(n){localStorage.setItem(C,n)},P=function(){return localStorage.getItem(C)},E=function(n,e,t){S.a.fire({title:n,text:e,icon:t})},N=t(7),D=t(5),L=t(1),T=v.a.div(a||(a=Object(m.a)(["\n  border-bottom: 1.5px solid rgb(228, 225, 225, 0.7);\n"]))),_=v.a.div(i||(i=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 100px;\n  padding: 20px 0px 20px 0px;\n  align-items: center;\n  max-width: 1200px;\n  margin: 0 auto;\n  @media (max-width: 1250px) {\n    justify-content: left;\n  }\n  @media (max-width: 800px) {\n    display: block;\n  }\n"]))),A=v.a.div(c||(c=Object(m.a)(["\n  color: #191919;\n  font-size: 26px;\n  font-weight: 650;\n  @media (max-width: 1250px) {\n    margin: 0px 30px;\n  }\n"]))),I=v.a.div(o||(o=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0px 20px;\n  width: 1000px;\n  @media (max-width: 1250px) {\n    width: 75vw;\n  }\n  @media (max-width: 800px) {\n    justify-content: left;\n  }\n"]))),J=v.a.div(r||(r=Object(m.a)(["\n  display: flex;\n  align-items: baseline;\n"]))),$=v.a.div(s||(s=Object(m.a)(["\n  display: flex;\n  align-items: baseline;\n"]))),B=Object(v.a)(N.b)(d||(d=Object(m.a)(["\n  text-decoration: none;\n  color: #78787873;\n  font-size: 22px;\n  cursor: pointer;\n  margin: 12px;\n  font-weight: 500;\n  &:hover {\n    color: black;\n  }\n  ","\n  @media (max-width: 800px) {\n    font-size: 18px;\n  }\n"])),(function(n){return n.$active&&"font-weight: 500; color: black;"})),M=v.a.div(j||(j=Object(m.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  overflow: hidden;\n  margin-right: 10px;\n  @media (max-width: 800px) {\n    display: none;\n  }\n"]))),U=v.a.div(b||(b=Object(m.a)(["\n  background-image: url(",");\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-position: center center;\n"])),w);function W(){var n=Object(D.g)(),e=Object(p.useContext)(y),t=e.user,a=e.setUser,i=Object(D.f)();return Object(L.jsx)(T,{children:Object(L.jsxs)(_,{children:[Object(L.jsx)(A,{children:"LIDEMY"}),Object(L.jsxs)(I,{children:[Object(L.jsxs)(J,{children:[Object(L.jsx)(B,{to:"/",$active:"/"===n.pathname,children:"Lists"}),Object(L.jsx)(B,{to:"/about",$active:"/about"===n.pathname,children:"About"})]}),Object(L.jsxs)($,{children:[t&&Object(L.jsx)(B,{to:"/write",$active:"/write"===n.pathname,children:"Write a story"}),t&&Object(L.jsx)(B,{to:"/",onClick:function(){z(""),a(null),E("log out successfully!","See you soon!","success"),"/"!==n.pathname&&i.push("/")},children:"Sign out"}),!t&&Object(L.jsx)(B,{to:"/signin",$active:"/signin"===n.pathname,children:"Sign in"}),!t&&Object(L.jsx)(B,{to:"/signup",$active:"/signup"===n.pathname,children:"Sign up"})]})]}),Object(L.jsx)(M,{children:Object(L.jsx)(U,{})})]})})}var q,H,R,Y,F,G,K=t(31),Q=t.n(K);t(55);function V(n){var e=n.perPageCount,t=n.totalCount,a=n.handlePageClick,i=Math.ceil(t/e);return Object(L.jsx)("div",{className:"PaginatedContainer",children:Object(L.jsx)(Q.a,{previousLabel:"\u2190 Previous",nextLabel:"Next \u2192",pageCount:i,onPageChange:a,containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})})}var X,Z,nn,en,tn,an,cn=v.a.div(q||(q=Object(m.a)(["\n  position: sticky;\n  align-self: flex-start;\n  top: 100px;\n  max-width: 200px;\n  padding: 30px;\n  margin-top: 40px;\n  @media (max-width: 1000px) {\n    display: none;\n  }\n"]))),on=v.a.div(H||(H=Object(m.a)(["\n  width: 130px;\n  height: 130px;\n  position: relative;\n"]))),rn=v.a.div(R||(R=Object(m.a)(["\n  background-image: url(",");\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  background-position: center center;\n"])),w),sn=v.a.div(Y||(Y=Object(m.a)(["\n  margin-top: 20px;\n  font-size: 16px;\n  font-weight: bolder;\n  font-family: sans-serif;\n"]))),dn=v.a.div(F||(F=Object(m.a)(["\n  margin-top: 20px;\n  font-size: 14px;\n  font-weight: bolder;\n  font-family: sans-serif;\n  color: #737373;\n"]))),jn=v.a.div(G||(G=Object(m.a)(["\n  width: 200px;\n  height: 1px;\n  margin-top: 50px;\n  background: rgb(228, 225, 225);\n"])));function bn(){return Object(L.jsxs)(cn,{children:[Object(L.jsx)(on,{children:Object(L.jsx)(rn,{})}),Object(L.jsx)(sn,{children:"\u7b2c\u4e94\u671f\u5b78\u751f"}),Object(L.jsx)(dn,{children:"Taiwan"}),Object(L.jsx)(jn,{})]})}var pn=v.a.div(X||(X=Object(m.a)(["\n  max-width: 700px;\n  padding: 0px 30px;\n  font-family: sans-serif;\n  margin-top: 24px;\n  overflow-wrap: anywhere;\n  @media (max-width: 1000px) {\n    width: 80vw;\n    max-width: initial;\n  }\n"]))),xn=v.a.div(Z||(Z=Object(m.a)(["\n  font-size: 12px;\n  margin-bottom: 14px;\n  margin-top: 8px;\n  color: #a8a8a8;\n"]))),ln=Object(v.a)(N.b)(nn||(nn=Object(m.a)(["\n  font-size: 24px;\n  font-weight: bolder;\n  font-family: sans-serif;\n  text-decoration: none;\n  color: black;\n  margin-bottom: 10px;\n"]))),un=v.a.div(en||(en=Object(m.a)(["\n  margin-top: 17px;\n  white-space: pre-line;\n  line-height: 1.5em;\n  height: 70px;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  overflow: hidden;\n"]))),hn=Object(v.a)(N.b)(tn||(tn=Object(m.a)(["\n  display: inline-block;\n  color: #198030;\n  margin-top: 18px;\n  text-decoration: none;\n  font-size: 16px;\n"]))),On=v.a.div(an||(an=Object(m.a)(["\n  max-width: 100%;\n  height: 1px;\n  margin-top: 40px;\n  background: rgb(228, 225, 225);\n"])));function fn(n){var e=n.postData;return Object(L.jsxs)(pn,{children:[Object(L.jsx)(xn,{children:new Date(e.createdAt).toDateString()}),Object(L.jsx)(ln,{to:"/page/".concat(e.id),children:e.title}),Object(L.jsx)(un,{children:e.body}),Object(L.jsx)(hn,{to:"/page/".concat(e.id),children:"Read more..."}),Object(L.jsx)(On,{})]},e.id)}var gn,mn,vn,wn,yn,kn,Sn,Cn="https://student-json-api.lidemy.me",zn=function(n){return fetch("".concat(Cn,"/posts?id=").concat(n)).then((function(n){return n.json()}))},Pn=function(){var n=P();return""===n?null:fetch("".concat(Cn,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},En=function(n){var e=P();return fetch("".concat(Cn,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"}})},Nn=t(17),Dn=v.a.div(gn||(gn=Object(m.a)(["\n  max-width: 1250px;\n  display: flex;\n  justify-content: left;\n  padding-bottom: 50px;\n  margin: 0 auto;\n  @media (max-width: 1000px) {\n    justify-content: left;\n  }\n"]))),Ln=v.a.div(mn||(mn=Object(m.a)(["\n  padding: 0px 30px;\n  font-family: sans-serif;\n  @media (max-width: 400px) {\n    padding: 0px 0px;\n  }\n"]))),Tn=v.a.div(vn||(vn=Object(m.a)(["\n  width: 680px;\n  padding: 350px;\n"]))),_n=function(){var n=Object(p.useState)(!0);return Object(g.a)(n,1)[0]&&Object(L.jsx)(Nn.a,{})};function An(){var n=Object(p.useState)(""),e=Object(g.a)(n,2),t=e[0],a=e[1],i=Object(p.useState)(0),c=Object(g.a)(i,2),o=c[0],r=c[1],s=Object(p.useState)(0),d=Object(g.a)(s,2),j=d[0],b=d[1];return Object(p.useEffect)((function(){var n,e;(n=o+1,e=5,fetch("".concat(Cn,"/posts?_sort=createdAt&_order=desc&_page=").concat(n,"&_limit=").concat(e))).then((function(n){return b(n.headers.get("x-total-count")),n.json()})).then((function(n){a(n)})),window.scrollTo({top:0,behavior:"smooth"})}),[o]),Object(L.jsxs)(Dn,{children:[Object(L.jsx)(bn,{}),t&&Object(L.jsxs)(Ln,{children:[t.map((function(n){return Object(L.jsx)(fn,{postData:n},n.id)})),Object(L.jsx)(V,{perPageCount:5,handlePageClick:function(n){var e=n.selected;r(e)},totalCount:j})]}),!t&&Object(L.jsx)(Tn,{children:Object(L.jsx)(_n,{})})]})}var In,Jn,$n,Bn,Mn,Un,Wn,qn,Hn=v.a.div(wn||(wn=Object(m.a)(["\n  display: flex;\n  justify-content: left;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Rn=v.a.div(yn||(yn=Object(m.a)(["\n  max-width: 680px;\n  padding: 70px 30px 0px 30px;\n  font-family: sans-serif;\n"]))),Yn=v.a.div(kn||(kn=Object(m.a)(["\n  font-size: 24px;\n  font-weight: bolder;\n  font-family: sans-serif;\n  text-decoration: none;\n  color: black;\n  margin-bottom: 10px;\n"]))),Fn=v.a.div(Sn||(Sn=Object(m.a)(["\n  margin-top: 17px;\n  white-space: pre-line;\n  line-height: 1.5em;\n  overflow: hidden;\n"])));function Gn(){return Object(L.jsxs)(Hn,{children:[Object(L.jsx)(bn,{}),Object(L.jsxs)(Rn,{children:[Object(L.jsx)(Yn,{children:"About"}),Object(L.jsxs)(Fn,{children:["\u4f60\u597d\uff0c\u9019\u88e1\u662f\u4e00\u7fa4\u7531 Lidemy \u7684\u540c\u5b78\u6240\u7d93\u71df\u7684\u5171\u7b46\u90e8\u843d\u683c",Object(L.jsx)("br",{}),"Lidemy \u7a0b\u5f0f\u5c0e\u5e2b\u8a08\u756b\u6a19\u699c\u4e0d\u558a\u53e3\u865f\u4e5f\u4e0d\u8a87\u5927\u6210\u6548\uff0c\u958b\u653e\u900f\u660e\u7684\u7db2\u9801\u524d\u5f8c\u7aef\u7dda\u4e0a\u5b78\u7fd2\u8a08\u756b\uff0c\u8a66\u8457\u7528\u516d\u500b\u6708\u7684\u6642\u9593\uff0c\u57f9\u990a\u51fa\u4e00\u500b\u627e\u5f97\u5230\u5de5\u4f5c\u4e14\u57fa\u790e\u7d2e\u5be6\u7684\u7db2\u9801\u5de5\u7a0b\u5e2b",Object(L.jsx)("br",{}),"\u8a73\u60c5\u8acb\u6d3d\uff1a",Object(L.jsx)("a",{href:"https://bootcamp.lidemy.com/index.html",children:"https://bootcamp.lidemy.com"})]})]})]})}var Kn,Qn,Vn,Xn,Zn,ne,ee=v.a.div(In||(In=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: 50px;\n  margin: 0 auto;\n"]))),te=v.a.form(Jn||(Jn=Object(m.a)(["\n  width: 60vw;\n  max-width: 1000px;\n  display: grid;\n  margin-top: 30px;\n  padding: 30px 30px 60px 30px;\n  border: 1px solid #999595;\n  border-radius: 8px;\n  background: white;\n"]))),ae=v.a.div($n||($n=Object(m.a)(["\n  font-size: 30px;\n"]))),ie=v.a.input(Bn||(Bn=Object(m.a)(["\n  max-width: 1000px;\n  height: 40px;\n  font-size: 28px;\n  margin-top: 10px;\n  border: none;\n  border-bottom: 1px solid #999595;\n  font-family: MONOSPACE;\n  :focus {\n    outline: none;\n  }\n  @media (max-width: 500px) {\n    width: 220px;\n  }\n"]))),ce=v.a.textarea(Mn||(Mn=Object(m.a)(["\n  max-width: 1000px;\n  height: 600px;\n  font-size: 24px;\n  margin-top: 16px;\n  border: 1px solid #999595;\n  border-radius: 5px;\n  font-family: MONOSPACE;\n  :focus {\n    outline: none;\n  }\n  @media (max-width: 500px) {\n    width: 220px;\n  }\n"]))),oe=v.a.div(Un||(Un=Object(m.a)(["\n  max-width: 1000px;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 500px) {\n    width: 220px;\n  }\n"]))),re=v.a.button(Wn||(Wn=Object(m.a)(["\n  width: 300px;\n  background: green;\n  border: none;\n  padding: 10px 20px 10px 20px;\n  color: white;\n  border-radius: 10px;\n  font-size: 18px;\n  cursor: pointer;\n  &:hover {\n    background: #00800059;\n  }\n"]))),se=v.a.div(qn||(qn=Object(m.a)(["\n  color: red;\n"])));function de(){var n=Object(p.useState)(""),e=Object(g.a)(n,2),t=e[0],a=e[1],i=Object(p.useState)(""),c=Object(g.a)(i,2),o=c[0],r=c[1],s=Object(p.useState)(" "),d=Object(g.a)(s,2),j=d[0],b=d[1],x=Object(p.useContext)(y).user,l=Object(D.f)();Object(p.useEffect)((function(){null===x&&l.push("/")}),[]);return Object(L.jsx)(ee,{children:Object(L.jsxs)(te,{onSubmit:function(n){n.preventDefault(),function(n,e){var t=P();return fetch("".concat(Cn,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"content-type":"application/json"},body:JSON.stringify({title:n,body:e})}).then((function(n){return n.json()}))}(t,o).then((function(n){if(0===n.ok)return b(n.message);E("Publish successfully!","","success"),l.push("/")}))},children:[Object(L.jsx)(ae,{children:"Write a story."}),Object(L.jsx)(ie,{placeholder:"Title",value:t,onChange:function(n){return a(n.target.value)}}),Object(L.jsx)(ce,{placeholder:"Tell your story...",value:o,onChange:function(n){return r(n.target.value)}}),Object(L.jsxs)(oe,{children:[j&&Object(L.jsx)(se,{children:j}),Object(L.jsx)(re,{children:"\u767c\u5e03"})]})]})})}var je,be,pe,xe,le,ue,he,Oe,fe,ge=v.a.div(Kn||(Kn=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: 50px;\n  margin: 0 auto;\n"]))),me=v.a.form(Qn||(Qn=Object(m.a)(["\n  display: grid;\n  margin-top: 100px;\n  padding: 50px 30px 60px 30px;\n  border: 1px solid #e1e0e0;\n  border-radius: 15px;\n  background: white;\n"]))),ve=v.a.div(Vn||(Vn=Object(m.a)(["\n  font-size: 30px;\n  margin-bottom: 20px;\n"]))),we=v.a.input(Xn||(Xn=Object(m.a)(["\n  width: 300px;\n  height: 30px;\n  font-size: 24px;\n  margin: 20px 0px 20px 0px;\n  border: none;\n  border-bottom: 1px solid black;\n  :focus {\n    outline: none;\n  }\n"]))),ye=v.a.button(Zn||(Zn=Object(m.a)(["\n  margin-top: 20px;\n  width: 300px;\n  background: green;\n  border: none;\n  padding: 10px 20px 10px 20px;\n  color: white;\n  border-radius: 15px;\n  font-size: 18px;\n  cursor: pointer;\n  &:hover {\n    background: #00800059;\n  }\n"]))),ke=v.a.div(ne||(ne=Object(m.a)(["\n  color: red;\n"])));function Se(){var n=Object(p.useContext)(y).setUser,e=Object(p.useState)(""),t=Object(g.a)(e,2),a=t[0],i=t[1],c=Object(p.useState)("Lidemy"),o=Object(g.a)(c,2),r=o[0],s=o[1],d=Object(p.useState)(),j=Object(g.a)(d,2),b=j[0],x=j[1],l=Object(D.f)();return Object(L.jsx)(ge,{children:Object(L.jsxs)(me,{onSubmit:function(e){e.preventDefault(),x(null),function(n,e){return fetch("".concat(Cn,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))}(a,r).then((function(e){if(0===e.ok)return x(e.message);z(e.token),Pn().then((function(e){if(1!==e.ok)return z(null),x(e.toString());n(e.data),E("Log in successfully!","Welcome back!","success"),l.push("/")}))}))},children:[Object(L.jsx)(ve,{children:"Welcome back."}),Object(L.jsx)(we,{placeholder:"Username",value:a,onChange:function(n){return i(n.target.value)}}),Object(L.jsx)(we,{placeholder:"Password",type:"password",value:r,onChange:function(n){return s(n.target.value)}}),Object(L.jsx)("div",{children:Object(L.jsx)(ye,{children:"\u767b\u5165"})}),b&&Object(L.jsx)(ke,{children:b})]})})}function Ce(){var n=Object(p.useState)(""),e=Object(g.a)(n,2),t=e[0],a=e[1],i=Object(p.useState)(""),c=Object(g.a)(i,2),o=c[0],r=c[1],s=Object(p.useState)(""),d=Object(g.a)(s,2),j=d[0],b=d[1],x=Object(p.useState)(),l=Object(g.a)(x,2),u=l[0],h=l[1],O=Object(D.f)();return Object(L.jsx)(ge,{children:Object(L.jsxs)(me,{onSubmit:function(n){n.preventDefault(),h(null),function(n,e,t){return fetch("".concat(Cn,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:e,password:t})}).then((function(n){return n.json()}))}(t,o,j).then((function(n){if(0===n.ok)return h(n.message);E("Sign up successfully!","Please Sign in to explore more","success"),O.push("/signin")}))},children:[Object(L.jsx)(ve,{children:"Welcome to sign up."}),Object(L.jsx)(we,{placeholder:"Nickname",value:t,onChange:function(n){return a(n.target.value)}}),Object(L.jsx)(we,{placeholder:"Username",value:o,onChange:function(n){return r(n.target.value)}}),Object(L.jsx)(we,{placeholder:"Password",type:"password",value:j,onChange:function(n){return b(n.target.value)}}),Object(L.jsx)("div",{children:Object(L.jsx)(ye,{children:"\u8a3b\u518a"})}),u&&Object(L.jsx)(ke,{children:u})]})})}var ze,Pe=v.a.div(je||(je=Object(m.a)(["\n  max-width: 700px;\n  margin: 40px auto;\n"]))),Ee=v.a.div(be||(be=Object(m.a)(["\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  align-items: flex-end;\n  justify-content: space-between;\n"]))),Ne=v.a.div(pe||(pe=Object(m.a)(["\n  font-size: 30px;\n  font-weight: bold;\n  color: #333;\n  text-decoration: none;\n"]))),De=v.a.div(xe||(xe=Object(m.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  color: #afadad;\n  margin: 20px 0px 20px 0px;\n"]))),Le=v.a.div(le||(le=Object(m.a)(["\n  margin-top: 28px;\n  font-size: 24px;\n"]))),Te=v.a.div(ue||(ue=Object(m.a)(["\n  width: 680px;\n  padding: 200px 300px;\n"]))),_e=v.a.div(he||(he=Object(m.a)(["\n  display: flex;\n"]))),Ae=Object(v.a)(N.b)(Oe||(Oe=Object(m.a)(["\n  width: 60px;\n  background: green;\n  border: none;\n  color: white;\n  border-radius: 10px;\n  font-size: 16px;\n  cursor: pointer;\n  margin: 6px 6px 6px 0px;\n  text-align: center;\n  padding: 4px;\n  text-decoration: none;\n  &:hover {\n    background: #00800059;\n  }\n"]))),Ie=v.a.div(fe||(fe=Object(m.a)(["\n  width: 60px;\n  background: #9b2233;\n  border: none;\n  color: white;\n  border-radius: 10px;\n  font-size: 16px;\n  cursor: pointer;\n  margin: 6px 6px 6px 0px;\n  text-align: center;\n  padding: 4px;\n  &:hover {\n    background: #cf4d59;\n  }\n"]))),Je=function(){var n=Object(p.useState)(!0);return Object(g.a)(n,1)[0]&&Object(L.jsx)(Nn.a,{})};function $e(){var n=Object(p.useState)(""),e=Object(g.a)(n,2),t=e[0],a=e[1],i=Object(p.useState)(null),c=Object(g.a)(i,2),o=c[0],r=c[1],s=Object(D.h)().slug,d=Object(p.useContext)(y).user,j=Object(D.f)();Object(p.useEffect)((function(){zn(s).then((function(n){a(n[0]),d&&d.id===n[0].userId&&r(!0)}))}),[s]);var b=function(){var n=Object(f.a)(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,En(t.id);case 2:n.sent&&j.push("/");case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(L.jsxs)(Pe,{children:[t&&Object(L.jsxs)(Ee,{children:[Object(L.jsx)(Ne,{children:t.title}),Object(L.jsx)(De,{children:new Date(t.createdAt).toDateString()}),o&&Object(L.jsxs)(_e,{children:[Object(L.jsx)(Ae,{to:"/edit/".concat(t.id),children:"\u7de8\u8f2f"}),Object(L.jsx)(Ie,{onClick:b,children:"\u522a\u9664"})]})]}),t&&Object(L.jsx)(Le,{children:t.body}),!t&&Object(L.jsx)(Te,{children:Object(L.jsx)(Je,{})})]})}function Be(){var n=Object(p.useState)(""),e=Object(g.a)(n,2),t=e[0],a=e[1],i=Object(p.useState)(""),c=Object(g.a)(i,2),o=c[0],r=c[1],s=Object(p.useState)(""),d=Object(g.a)(s,2),j=d[0],b=d[1],x=Object(p.useState)(" "),l=Object(g.a)(x,2),u=l[0],h=l[1],O=Object(p.useContext)(y).user,f=Object(D.h)().slug,m=Object(D.f)();Object(p.useEffect)((function(){null===O&&m.push("/")}),[]),Object(p.useEffect)((function(){zn(f).then((function(n){O&&O.id!==n[0].userId&&window.location.assign("/"),b(n[0]),a(n[0].title),r(n[0].body)}))}),[f]);return Object(L.jsx)(ee,{children:Object(L.jsxs)(te,{onSubmit:function(n){if(n.preventDefault(),""===t||""===o)return h("Title or content is required");(function(n,e,t){var a=P();return fetch("".concat(Cn,"/posts/").concat(n),{method:"PATCH",headers:{authorization:"Bearer ".concat(a),"content-type":"application/json"},body:JSON.stringify({title:e,body:t})}).then((function(n){return n.json()}))})(j.id,t,o).then((function(n){if(0===n.ok)return h(n.message);E("Change successfully!","","success"),m.push("/page/".concat(j.id))}))},children:[Object(L.jsx)(ae,{children:"Edit your story."}),Object(L.jsx)(ie,{placeholder:"Title",value:t,onChange:function(n){return a(n.target.value)}}),Object(L.jsx)(ce,{placeholder:"Tell your story...",value:o,onChange:function(n){return r(n.target.value)}}),Object(L.jsxs)(oe,{children:[u&&Object(L.jsx)(se,{children:u}),Object(L.jsx)(re,{children:"\u4fee\u6539\u5b8c\u6210"})]})]})})}var Me=v.a.div(ze||(ze=Object(m.a)([""])));var Ue=function(){var n=Object(p.useState)(null),e=Object(g.a)(n,2),t=e[0],a=e[1];return Object(p.useEffect)(Object(f.a)(O.a.mark((function n(){var e;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pn();case 2:(e=n.sent)&&1===e.ok&&a(e.data);case 4:case"end":return n.stop()}}),n)}))),[]),Object(L.jsx)(y.Provider,{value:{user:t,setUser:a},children:Object(L.jsx)(Me,{children:Object(L.jsxs)(N.a,{children:[Object(L.jsx)(W,{}),Object(L.jsxs)(D.c,{children:[Object(L.jsx)(D.a,{exact:!0,path:"/",children:Object(L.jsx)(An,{})}),Object(L.jsx)(D.a,{path:"/about",children:Object(L.jsx)(Gn,{})}),Object(L.jsx)(D.a,{path:"/write",children:Object(L.jsx)(de,{})}),Object(L.jsx)(D.a,{path:"/edit/:slug",children:Object(L.jsx)(Be,{})}),Object(L.jsx)(D.a,{path:"/signin",children:Object(L.jsx)(Se,{})}),Object(L.jsx)(D.a,{path:"/signup",children:Object(L.jsx)(Ce,{})}),Object(L.jsx)(D.a,{path:"/page/:slug",children:Object(L.jsx)($e,{})})]})]})})})};u.a.render(Object(L.jsx)(x.a.StrictMode,{children:Object(L.jsx)(Ue,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.ac5fad96.chunk.js.map