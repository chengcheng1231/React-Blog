{"version":3,"sources":["components/Lidemy.png","contexts.js","utils.js","components/Header/Header.js","components/PaginatedSection/PaginatedSection.js","components/AuthorSection/AuthorSection.js","components/Post/Post.js","WebAPI.js","components/HomePage/HomePage.js","pages/HomePage/HomePage.js","components/AboutPage/AboutPage.js","pages/AboutPage/AboutPage.js","components/HandlePost/HandlePost.js","pages/WritePage/WritePage.js","components/AuthForm/AuthForm.js","pages/SignInPage/SignInPage.js","pages/SignUpPage/SignUpPage.js","components/SinglePage/SinglePage.js","pages/SinglePage/SinglePage.js","pages/EditPage/EditPage.js","components/App/App.js","index.js"],"names":["AuthContext","createContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","successAlert","title","text","icon","Swal","fire","Root","styled","div","Navbar","NavbarSiteName","NavbarList","NavbarListLeft","NavbarListRight","Nav","Link","props","$active","NavbarAvatar","NavbarAvatarImage","avatar","Header","location","useLocation","useContext","user","setUser","to","pathname","onClick","window","assign","PaginatedSection","perPageCount","totalCount","handlePageClick","pageCount","Math","ceil","className","previousLabel","nextLabel","onPageChange","containerClassName","previousLinkClassName","nextLinkClassName","disabledClassName","activeClassName","Author","AuthorAvatar","AuthorAvatarImage","AuthorName","AuthorAbout","AuthorHr","AuthorSection","PostLayout","PostTime","PostTitle","PostContent","PostReadMore","PostHr","Post","postData","Date","createdAt","toDateString","id","body","BASE_URL","getSinglePost","fetch","then","res","json","getMe","headers","authorization","deletePost","method","Container","PostsSection","LoadingSection","LoadingAnima","useState","HomePage","postsData","setPostsData","currentPage","setCurrentPage","setTotalCount","useEffect","page","limit","get","data","scrollTo","top","behavior","map","selectedPage","selected","AboutSection","AboutTitle","AuthorContent","AboutPage","href","FormSection","form","FormTitle","InputItem","input","InputTextArea","textarea","PublishSection","PublishButtonn","button","ErrorMessage","WritePage","setTitle","setBody","errorMessage","setErrorMessage","history","useHistory","push","onSubmit","e","preventDefault","JSON","stringify","addPost","ok","message","placeholder","value","onChange","target","SignButtonn","SignInPage","username","setUsername","password","setPassword","login","response","toString","type","SignUpPage","nickname","setNickname","register","PostContainer","PostDate","ButtonSection","PostEditButton","PostDeleteButton","SinglePage","singlePosts","setSinglePosts","postAuth","setPostAuth","slug","useParams","posts","userId","handleDeletePost","a","EditPage","newTitle","newBody","editPost","App","Provider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2PAAe,MAA0B,mCCE5BA,EAAcC,wBAAc,M,iBCDnCC,EAAa,QAENC,EAAe,SAACC,GAC3BC,aAAaC,QAAQJ,EAAYE,IAGtBG,EAAe,WAC1B,OAAOF,aAAaG,QAAQN,IAGjBO,EAAe,SAACC,EAAOC,EAAMC,GACxCC,IAAKC,KAAK,CACRJ,QACAC,OACAC,U,qBCREG,EAAOC,IAAOC,IAAV,mFAIJC,EAASF,IAAOC,IAAV,6TAgBNE,EAAiBH,IAAOC,IAAV,oJASdG,EAAaJ,IAAOC,IAAV,+OAaVI,EAAiBL,IAAOC,IAAV,wEAKdK,EAAkBN,IAAOC,IAAV,wEAKfM,EAAMP,YAAOQ,IAAPR,CAAH,+PAUL,SAACS,GAAD,OAAWA,EAAMC,SAAW,qCAM1BC,EAAeX,IAAOC,IAAV,wLAWZW,EAAoBZ,IAAOC,IAAV,6JACGY,GAOX,SAASC,IACtB,IAAMC,EAAWC,cACjB,EAA0BC,qBAAWjC,GAA7BkC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAWd,OACE,cAACpB,EAAD,UACE,eAACG,EAAD,WACE,cAACC,EAAD,qBACA,eAACC,EAAD,WACE,eAACC,EAAD,WACE,cAACE,EAAD,CAAKa,GAAG,IAAIV,QAA+B,MAAtBK,EAASM,SAA9B,mBAGA,cAACd,EAAD,CAAKa,GAAG,SAASV,QAA+B,WAAtBK,EAASM,SAAnC,sBAIF,eAACf,EAAD,WACGY,GACC,cAACX,EAAD,CAAKa,GAAG,SAASV,QAA+B,WAAtBK,EAASM,SAAnC,2BAIDH,GACC,cAACX,EAAD,CAAKa,GAAG,IAAIE,QA7BH,WACnBnC,EAAa,IACbgC,EAAQ,MACR1B,EAAa,wBAAyB,gBAAiB,WAC7B,MAAtBsB,EAASM,UACXE,OAAOR,SAASS,OAAO,MAwBf,uBAIAN,GACA,cAACX,EAAD,CAAKa,GAAG,UAAUV,QAA+B,YAAtBK,EAASM,SAApC,sBAIAH,GACA,cAACX,EAAD,CAAKa,GAAG,UAAUV,QAA+B,YAAtBK,EAASM,SAApC,2BAMN,cAACV,EAAD,UACE,cAACC,EAAD,W,uCC7IK,SAASa,EAAT,GAIX,IAHFC,EAGC,EAHDA,aACAC,EAEC,EAFDA,WACAC,EACC,EADDA,gBAEMC,EAAYC,KAAKC,KAAKJ,EAAaD,GAEzC,OACE,qBAAKM,UAAU,qBAAf,SACE,cAAC,IAAD,CACEC,cAAe,kBACfC,UAAW,cACXL,UAAWA,EACXM,aAAcP,EACdQ,mBAAoB,aACpBC,sBAAuB,mBACvBC,kBAAmB,mBACnBC,kBAAmB,6BACnBC,gBAAiB,+BClBzB,I,gBAAMC,GAASzC,IAAOC,IAAV,gNAYNyC,GAAe1C,IAAOC,IAAV,sFAMZ0C,GAAoB3C,IAAOC,IAAV,6JACGY,GAOpB+B,GAAa5C,IAAOC,IAAV,yHAOV4C,GAAc7C,IAAOC,IAAV,4IAQX6C,GAAW9C,IAAOC,IAAV,qHAOC,SAAS8C,KACtB,OACE,eAACN,GAAD,WACE,cAACC,GAAD,UACE,cAACC,GAAD,MAEF,cAACC,GAAD,6CACA,cAACC,GAAD,qBACA,cAACC,GAAD,OCxDN,IAAME,GAAahD,IAAOC,IAAV,oOAYVgD,GAAWjD,IAAOC,IAAV,+GAMRiD,GAAYlD,YAAOQ,IAAPR,CAAH,yKASTmD,GAAcnD,IAAOC,IAAV,8NAWXmD,GAAepD,YAAOQ,IAAPR,CAAH,8IAQZqD,GAASrD,IAAOC,IAAV,0HAOG,SAASqD,GAAT,GAA6B,IAAbC,EAAY,EAAZA,SAC7B,OACE,eAACP,GAAD,WACE,cAACC,GAAD,UAAW,IAAIO,KAAKD,EAASE,WAAWC,iBACxC,cAACR,GAAD,CAAW9B,GAAE,gBAAWmC,EAASI,IAAjC,SAAwCJ,EAAS7D,QACjD,cAACyD,GAAD,UAAcI,EAASK,OACvB,cAACR,GAAD,CAAchC,GAAE,gBAAWmC,EAASI,IAApC,0BACA,cAACN,GAAD,MALeE,EAASI,ICzDvB,I,qBAAME,GAAW,qCAcXC,GAAgB,SAACH,GAC5B,OAAOI,MAAM,GAAD,OAAIF,GAAJ,qBAAyBF,IAAMK,MAAK,SAACC,GAAD,OAASA,EAAIC,WAgBlDC,GAAQ,WACnB,IAAM/E,EAAQG,IACd,MAAc,KAAVH,EAAqB,KAClB2E,MAAM,GAAD,OAAIF,GAAJ,OAAmB,CAC7BO,QAAS,CACPC,cAAc,UAAD,OAAYjF,MAE1B4E,MAAK,SAACC,GAAD,OAASA,EAAIC,WAgCVI,GAAa,SAACX,GACzB,IAAMvE,EAAQG,IACd,OAAOwE,MAAM,GAAD,OAAIF,GAAJ,kBAAsBF,GAAM,CACtCY,OAAQ,SACRH,QAAS,CACPC,cAAc,UAAD,OAAYjF,GACzB,eAAgB,uB,SC3EToF,GAAYxE,IAAOC,IAAV,6MAWTwE,GAAezE,IAAOC,IAAV,2IAQZyE,GAAiB1E,IAAOC,IAAV,kECRrB0E,GAAe,WACnB,MAAkBC,oBAAS,GAC3B,OADA,qBACkB,cAAC,KAAD,KAKL,SAASC,KACtB,MAAkCD,mBAAS,IAA3C,mBAAOE,EAAP,KAAkBC,EAAlB,KACA,EAAsCH,mBAAS,GAA/C,mBAAOI,EAAP,KAAoBC,EAApB,KACA,EAAoCL,mBAAS,GAA7C,mBAAOjD,EAAP,KAAmBuD,EAAnB,KA2BA,OAzBAC,qBAAU,WAER,IFlB0BC,EAAMC,GAAND,EEkBKJ,EAAc,EFlBbK,EESf,EFRZtB,MAAM,GAAD,OACPF,GADO,oDAC6CuB,EAD7C,mBAC4DC,KEoBnErB,MAAK,SAACC,GAGL,OADAiB,EAAcjB,EAAIG,QAAQkB,IAAI,kBACvBrB,EAAIC,UAEZF,MAAK,SAACuB,GACLR,EAAaQ,MAGjBhE,OAAOiE,SAAS,CACdC,IAAK,EACLC,SAAU,aAEX,CAACV,IAOF,eAACR,GAAD,WACE,cAACzB,GAAD,IACC+B,GACC,eAACL,GAAD,WACGK,EAAUa,KAAI,SAACpC,GAAD,OACb,cAACD,GAAD,CAAwBC,SAAUA,GAAvBA,EAASI,OAEtB,cAAClC,EAAD,CACEC,aAzCS,EA0CTE,gBAdV,YAAsD,IAAjBgE,EAAgB,EAA1BC,SACzBZ,EAAeW,IAcPjE,WAAYA,QAIhBmD,GACA,cAACJ,GAAD,UACE,cAAC,GAAD,SCjEH,I,wBAAMF,GAAYxE,IAAOC,IAAV,mHAOT6F,GAAe9F,IAAOC,IAAV,+GAMZ8F,GAAa/F,IAAOC,IAAV,yKASV+F,GAAgBhG,IAAOC,IAAV,yHCfX,SAASgG,KACtB,OACE,eAAC,GAAD,WACE,cAAClD,GAAD,IACA,eAAC+C,GAAD,WACE,cAACC,GAAD,oBACA,eAACC,GAAD,oJAEE,uBAFF,4ZAKE,uBALF,iCAOE,mBAAGE,KAAK,yCAAR,kDCpBH,I,kBAAM1B,GAAYxE,IAAOC,IAAV,wHAOTkG,GAAcnG,IAAOoG,KAAV,uNAWXC,GAAYrG,IAAOC,IAAV,kDAITqG,GAAYtG,IAAOuG,MAAV,2RAgBTC,GAAgBxG,IAAOyG,SAAV,2RAgBbC,GAAiB1G,IAAOC,IAAV,qOAYd0G,GAAiB3G,IAAO4G,OAAV,sPAcdC,GAAe7G,IAAOC,IAAV,6CChEV,SAAS6G,KACtB,MAA0BlC,mBAAS,IAAnC,mBAAOlF,EAAP,KAAcqH,EAAd,KACA,EAAwBnC,mBAAS,IAAjC,mBAAOhB,EAAP,KAAaoD,EAAb,KACA,EAAwCpC,mBAAS,KAAjD,mBAAOqC,EAAP,KAAqBC,EAArB,KACQhG,EAASD,qBAAWjC,GAApBkC,KACFiG,EAAUC,cAIhBjC,qBAAU,WACK,OAATjE,GACFiG,EAAQE,KAAK,OAEd,IAaH,OACE,cAAC,GAAD,UACE,eAAClB,GAAD,CAAamB,SAbI,SAACC,GACpBA,EAAEC,iBNsBiB,SAAC9H,EAAOkE,GAC7B,IAAMxE,EAAQG,IACd,OAAOwE,MAAM,GAAD,OAAIF,GAAJ,UAAsB,CAChCU,OAAQ,OACRH,QAAS,CACPC,cAAc,UAAD,OAAYjF,GACzB,eAAgB,oBAElBwE,KAAM6D,KAAKC,UAAU,CACnBhI,QACAkE,WAEDI,MAAK,SAACC,GAAD,OAASA,EAAIC,UMjCnByD,CAAQjI,EAAOkE,GAAMI,MAAK,SAACuB,GACzB,GAAgB,IAAZA,EAAKqC,GACP,OAAOV,EAAgB3B,EAAKsC,SAE9BpI,EAAa,wBAAyB,GAAI,WAC1C0H,EAAQE,KAAK,SAMb,UACE,cAAChB,GAAD,6BACA,cAACC,GAAD,CACEwB,YAAY,QACZC,MAAOrI,EACPsI,SAAU,SAACT,GAAD,OAAOR,EAASQ,EAAEU,OAAOF,UAErC,cAACvB,GAAD,CACEsB,YAAY,qBACZC,MAAOnE,EACPoE,SAAU,SAACT,GAAD,OAAOP,EAAQO,EAAEU,OAAOF,UAEpC,eAACrB,GAAD,WACGO,GAAgB,cAACJ,GAAD,UAAeI,IAChC,cAACN,GAAD,mCC1DH,I,2BAAMnC,GAAYxE,IAAOC,IAAV,wHAOTkG,GAAcnG,IAAOoG,KAAV,mLASXC,GAAYrG,IAAOC,IAAV,0EAKTqG,GAAYtG,IAAOuG,MAAV,2MAYT2B,GAAclI,IAAO4G,OAAV,2QAeXC,GAAe7G,IAAOC,IAAV,6CCnCV,SAASkI,KACtB,IAAQhH,EAAYF,qBAAWjC,GAAvBmC,QACR,EAAgCyD,mBAAS,IAAzC,mBAAOwD,EAAP,KAAiBC,EAAjB,KACA,EAAgCzD,mBAAS,UAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KACA,EAAwC3D,qBAAxC,mBAAOqC,EAAP,KAAqBC,EAArB,KACMC,EAAUC,cAsBhB,OACE,cAAC,GAAD,UACE,eAAC,GAAD,CAAaE,SAtBI,SAACC,GACpBA,EAAEC,iBACFN,EAAgB,MRLC,SAACkB,EAAUE,GAC9B,OAAOvE,MAAM,GAAD,OAAIF,GAAJ,UAAsB,CAChCU,OAAQ,OACRH,QAAS,CACP,eAAgB,oBAElBR,KAAM6D,KAAKC,UAAU,CACnBU,WACAE,eAEDtE,MAAK,SAACC,GAAD,OAASA,EAAIC,UQJnBsE,CAAMJ,EAAUE,GAAUtE,MAAK,SAACuB,GAC9B,GAAgB,IAAZA,EAAKqC,GACP,OAAOV,EAAgB3B,EAAKsC,SAE9B1I,EAAaoG,EAAKnG,OAElB+E,KAAQH,MAAK,SAACyE,GACZ,GAAoB,IAAhBA,EAASb,GAEX,OADAzI,EAAa,MACN+H,EAAgBuB,EAASC,YAElCvH,EAAQsH,EAASlD,MACjB9F,EAAa,uBAAwB,gBAAiB,WACtD0H,EAAQE,KAAK,YAMf,UACE,cAAC,GAAD,4BACA,cAAC,GAAD,CACES,YAAY,WACZC,MAAOK,EACPJ,SAAU,SAACT,GAAD,OAAOc,EAAYd,EAAEU,OAAOF,UAExC,cAAC,GAAD,CACED,YAAY,WACZa,KAAK,WACLZ,MAAOO,EACPN,SAAU,SAACT,GAAD,OAAOgB,EAAYhB,EAAEU,OAAOF,UAExC,8BACE,cAACG,GAAD,6BAEDjB,GAAgB,cAAC,GAAD,UAAeA,SC9CzB,SAAS2B,KACtB,MAAgChE,mBAAS,IAAzC,mBAAOiE,EAAP,KAAiBC,EAAjB,KACA,EAAgClE,mBAAS,IAAzC,mBAAOwD,EAAP,KAAiBC,EAAjB,KACA,EAAgCzD,mBAAS,IAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KACA,EAAwC3D,qBAAxC,mBAAOqC,EAAP,KAAqBC,EAArB,KACMC,EAAUC,cAkBhB,OACE,cAAC,GAAD,UACE,eAAC,GAAD,CAAaE,SAlBI,SAACC,GACpBA,EAAEC,iBACFN,EAAgB,MTmBI,SAAC2B,EAAUT,EAAUE,GAC3C,OAAOvE,MAAM,GAAD,OAAIF,GAAJ,aAAyB,CACnCU,OAAQ,OACRH,QAAS,CACP,eAAgB,oBAElBR,KAAM6D,KAAKC,UAAU,CACnBmB,WACAT,WACAE,eAEDtE,MAAK,SAACC,GAAD,OAASA,EAAIC,US7BnB6E,CAASF,EAAUT,EAAUE,GAAUtE,MAAK,SAACuB,GAC3C,GAAgB,IAAZA,EAAKqC,GACP,OAAOV,EAAgB3B,EAAKsC,SAE9BpI,EACE,wBACA,iCACA,WAEF0H,EAAQE,KAAK,eAMb,UACE,cAAC,GAAD,kCACA,cAAC,GAAD,CACES,YAAY,WACZC,MAAOc,EACPb,SAAU,SAACT,GAAD,OAAOuB,EAAYvB,EAAEU,OAAOF,UAExC,cAAC,GAAD,CACED,YAAY,WACZC,MAAOK,EACPJ,SAAU,SAACT,GAAD,OAAOc,EAAYd,EAAEU,OAAOF,UAExC,cAAC,GAAD,CACED,YAAY,WACZa,KAAK,WACLZ,MAAOO,EACPN,SAAU,SAACT,GAAD,OAAOgB,EAAYhB,EAAEU,OAAOF,UAExC,8BACE,cAACG,GAAD,6BAEDjB,GAAgB,cAAC,GAAD,UAAeA,SCzDjC,I,GAAMlH,GAAOC,IAAOC,IAAV,yEAKJ+I,GAAgBhJ,IAAOC,IAAV,6IAMbiD,GAAYlD,IAAOC,IAAV,kHAOTgJ,GAAWjJ,IAAOC,IAAV,iIAORkD,GAAcnD,IAAOC,IAAV,uEAKXyE,GAAiB1E,IAAOC,IAAV,wEAKdiJ,GAAgBlJ,IAAOC,IAAV,gDAIbkJ,GAAiBnJ,YAAOQ,IAAPR,CAAH,kTAiBdoJ,GAAmBpJ,IAAOC,IAAV,wRCzCvB0E,GAAe,WACnB,MAAkBC,oBAAS,GAC3B,OADA,qBACkB,cAAC,KAAD,KAGL,SAASyE,KACtB,MAAsCzE,mBAAS,IAA/C,mBAAO0E,EAAP,KAAoBC,EAApB,KACA,EAAgC3E,mBAAS,MAAzC,mBAAO4E,EAAP,KAAiBC,EAAjB,KACQC,EAASC,cAATD,KACAxI,EAASD,qBAAWjC,GAApBkC,KAERiE,qBAAU,WACRrB,GAAc4F,GAAM1F,MAAK,SAAC4F,GACxBL,EAAeK,EAAM,IACjB1I,GAAQA,EAAKyC,KAAOiG,EAAM,GAAGC,QAC/BJ,GAAY,QAGf,CAACC,IAEJ,IAAMI,EAAgB,uCAAG,sBAAAC,EAAA,sEACFzF,GAAWgF,EAAY3F,IADrB,eAGrBpC,OAAOR,SAASS,OAAO,KAHF,2CAAH,qDAOtB,OACE,eAAC,GAAD,WACG8H,GACC,eAACN,GAAD,WACE,cAAC,GAAD,UAAYM,EAAY5J,QACxB,cAACuJ,GAAD,UAAW,IAAIzF,KAAK8F,EAAY7F,WAAWC,iBAC1C8F,GACC,eAACN,GAAD,WACE,cAACC,GAAD,CAAgB/H,GAAE,gBAAWkI,EAAY3F,IAAzC,0BAGA,cAACyF,GAAD,CAAkB9H,QAASwI,EAA3B,gCAOPR,GAAe,cAAC,GAAD,UAAcA,EAAY1F,QACxC0F,GACA,cAAC,GAAD,UACE,cAAC,GAAD,SChDK,SAASU,KACtB,MAA0BpF,mBAAS,IAAnC,mBAAOlF,EAAP,KAAcqH,EAAd,KACA,EAAwBnC,mBAAS,IAAjC,mBAAOhB,EAAP,KAAaoD,EAAb,KACA,EAAsCpC,mBAAS,IAA/C,mBAAO0E,EAAP,KAAoBC,EAApB,KACA,EAAwC3E,mBAAS,KAAjD,mBAAOqC,EAAP,KAAqBC,EAArB,KACQhG,EAASD,qBAAWjC,GAApBkC,KACAwI,EAASC,cAATD,KACFvC,EAAUC,cAGhBjC,qBAAU,WACK,OAATjE,GACFiG,EAAQE,KAAK,OAEd,IAEHlC,qBAAU,WACRrB,GAAc4F,GAAM1F,MAAK,SAAC4F,GACpB1I,GAAQA,EAAKyC,KAAOiG,EAAM,GAAGC,QAC/BtI,OAAOR,SAASS,OAAO,KAEzB+H,EAAeK,EAAM,IACrB7C,EAAS6C,EAAM,GAAGlK,OAClBsH,EAAQ4C,EAAM,GAAGhG,WAElB,CAAC8F,IAcJ,OACE,cAAC,GAAD,UACE,eAACvD,GAAD,CAAamB,SAfI,SAACC,GAEpB,GADAA,EAAEC,iBACY,KAAV9H,GAAyB,KAATkE,EAClB,OAAOsD,EAAgB,iCZmCL,SAACvD,EAAIsG,EAAUC,GACrC,IAAM9K,EAAQG,IACd,OAAOwE,MAAM,GAAD,OAAIF,GAAJ,kBAAsBF,GAAM,CACtCY,OAAQ,QACRH,QAAS,CACPC,cAAc,UAAD,OAAYjF,GACzB,eAAgB,oBAElBwE,KAAM6D,KAAKC,UAAU,CACnBhI,MAAOuK,EACPrG,KAAMsG,MAEPlG,MAAK,SAACC,GAAD,OAASA,EAAIC,WY9CnBiG,CAASb,EAAY3F,GAAIjE,EAAOkE,GAAMI,MAAK,SAACuB,GAC1C,GAAgB,IAAZA,EAAKqC,GACP,OAAOV,EAAgB3B,EAAKsC,SAE9BpI,EAAa,uBAAwB,GAAI,WACzC0H,EAAQE,KAAR,gBAAsBiC,EAAY3F,SAMlC,UACE,cAAC0C,GAAD,+BACA,cAACC,GAAD,CACEwB,YAAY,QACZC,MAAOrI,EACPsI,SAAU,SAACT,GAAD,OAAOR,EAASQ,EAAEU,OAAOF,UAErC,cAACvB,GAAD,CACEsB,YAAY,qBACZC,MAAOnE,EACPoE,SAAU,SAACT,GAAD,OAAOP,EAAQO,EAAEU,OAAOF,UAEpC,eAACrB,GAAD,WACGO,GAAgB,cAACJ,GAAD,UAAeI,IAChC,cAACN,GAAD,+CC1DV,IAAM5G,GAAOC,IAAOC,IAAV,4BA+CKmK,OA7Cf,WACE,MAAwBxF,mBAAS,MAAjC,mBAAO1D,EAAP,KAAaC,EAAb,KAUA,OARAgE,oBAAS,sBAAC,4BAAA4E,EAAA,sEAEe5F,KAFf,QAEFsE,EAFE,SAGwB,IAAhBA,EAASb,IACvBzG,EAAQsH,EAASlD,MAJX,2CAMP,IAGD,cAACvG,EAAYqL,SAAb,CAAsBtC,MAAO,CAAE7G,OAAMC,WAArC,SACE,cAAC,GAAD,UACE,eAAC,IAAD,WACE,cAACL,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwJ,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC1F,GAAD,MAEF,cAAC,IAAD,CAAO0F,KAAK,SAAZ,SACE,cAACtE,GAAD,MAEF,cAAC,IAAD,CAAOsE,KAAK,SAAZ,SACE,cAACzD,GAAD,MAEF,cAAC,IAAD,CAAOyD,KAAK,cAAZ,SACE,cAACP,GAAD,MAEF,cAAC,IAAD,CAAOO,KAAK,UAAZ,SACE,cAACpC,GAAD,MAEF,cAAC,IAAD,CAAOoC,KAAK,UAAZ,SACE,cAAC3B,GAAD,MAEF,cAAC,IAAD,CAAO2B,KAAK,cAAZ,SACE,cAAClB,GAAD,iBChDdmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b3bc0491.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Lidemy.bd629eee.png\";","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null);\r\n","import Swal from 'sweetalert2'\r\nconst TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME)\r\n}\r\n\r\nexport const successAlert = (title, text, icon) => {\r\n  Swal.fire({\r\n    title,\r\n    text,\r\n    icon\r\n  });\r\n};","import styled from \"styled-components\";\r\nimport avatar from \"../Lidemy.png\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { setAuthToken, successAlert } from \"../../utils\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst Root = styled.div`\r\n  border-bottom: 1.5px solid rgb(228, 225, 225, 0.7);\r\n`;\r\n\r\nconst Navbar = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 100px;\r\n  padding: 20px 0px 20px 0px;\r\n  align-items: center;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  @media (max-width: 1250px) {\r\n    justify-content: left;\r\n  }\r\n  @media (max-width: 800px) {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst NavbarSiteName = styled.div`\r\n  color: #191919;\r\n  font-size: 26px;\r\n  font-weight: 650;\r\n  @media (max-width: 1250px) {\r\n    margin: 0px 30px;\r\n  }\r\n`;\r\n\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 0px 20px;\r\n  width: 1000px;\r\n  @media (max-width: 1250px) {\r\n    width: 75vw;\r\n  }\r\n  @media (max-width: 800px) {\r\n    justify-content: left;\r\n  }\r\n`;\r\n\r\nconst NavbarListLeft = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n`;\r\n\r\nconst NavbarListRight = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  text-decoration: none;\r\n  color: #78787873;\r\n  font-size: 22px;\r\n  cursor: pointer;\r\n  margin: 12px;\r\n  font-weight: 500;\r\n  &:hover {\r\n    color: black;\r\n  }\r\n  ${(props) => props.$active && \"font-weight: 500; color: black;\"}\r\n  @media (max-width: 800px) {\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nconst NavbarAvatar = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  margin-right: 10px;\r\n  @media (max-width: 800px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst NavbarAvatarImage = styled.div`\r\n  background-image: url(${avatar});\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  background-position: center center;\r\n`;\r\n\r\nexport default function Header() {\r\n  const location = useLocation();\r\n  const { user, setUser } = useContext(AuthContext);\r\n\r\n  const handleLogout = () => {\r\n    setAuthToken(\"\");\r\n    setUser(null);\r\n    successAlert(\"log out successfully!\", \"See you soon!\", \"success\");\r\n    if (location.pathname !== \"/\") {\r\n      window.location.assign(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Navbar>\r\n        <NavbarSiteName>LIDEMY</NavbarSiteName>\r\n        <NavbarList>\r\n          <NavbarListLeft>\r\n            <Nav to=\"/\" $active={location.pathname === \"/\"}>\r\n              Lists\r\n            </Nav>\r\n            <Nav to=\"/about\" $active={location.pathname === \"/about\"}>\r\n              About\r\n            </Nav>\r\n          </NavbarListLeft>\r\n          <NavbarListRight>\r\n            {user && (\r\n              <Nav to=\"/write\" $active={location.pathname === \"/write\"}>\r\n                Write a story\r\n              </Nav>\r\n            )}\r\n            {user && (\r\n              <Nav to=\"/\" onClick={handleLogout}>\r\n                Sign out\r\n              </Nav>\r\n            )}\r\n            {!user && (\r\n              <Nav to=\"/signin\" $active={location.pathname === \"/signin\"}>\r\n                Sign in\r\n              </Nav>\r\n            )}\r\n            {!user && (\r\n              <Nav to=\"/signup\" $active={location.pathname === \"/signup\"}>\r\n                Sign up\r\n              </Nav>\r\n            )}\r\n          </NavbarListRight>\r\n        </NavbarList>\r\n        <NavbarAvatar>\r\n          <NavbarAvatarImage />\r\n        </NavbarAvatar>\r\n      </Navbar>\r\n    </Root>\r\n  );\r\n}\r\n","import ReactPaginate from \"react-paginate\";\r\nimport \"./styles.css\";\r\n\r\nexport default function PaginatedSection({\r\n  perPageCount,\r\n  totalCount,\r\n  handlePageClick,\r\n}) {\r\n  const pageCount = Math.ceil(totalCount / perPageCount);\r\n\r\n  return (\r\n    <div className=\"PaginatedContainer\">\r\n      <ReactPaginate\r\n        previousLabel={\"← Previous\"}\r\n        nextLabel={\"Next →\"}\r\n        pageCount={pageCount}\r\n        onPageChange={handlePageClick}\r\n        containerClassName={\"pagination\"}\r\n        previousLinkClassName={\"pagination__link\"}\r\n        nextLinkClassName={\"pagination__link\"}\r\n        disabledClassName={\"pagination__link--disabled\"}\r\n        activeClassName={\"pagination__link--active\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport avatar from \"../../components/Lidemy.png\";\r\n\r\nconst Author = styled.div`\r\n  position: sticky;\r\n  align-self: flex-start;\r\n  top: 100px;\r\n  max-width: 200px;\r\n  padding: 30px;\r\n  margin-top: 40px;\r\n  @media (max-width: 1000px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst AuthorAvatar = styled.div`\r\n  width: 130px;\r\n  height: 130px;\r\n  position: relative;\r\n`;\r\n\r\nconst AuthorAvatarImage = styled.div`\r\n  background-image: url(${avatar});\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: cover;\r\n  background-position: center center;\r\n`;\r\n\r\nconst AuthorName = styled.div`\r\n  margin-top: 20px;\r\n  font-size: 16px;\r\n  font-weight: bolder;\r\n  font-family: sans-serif;\r\n`;\r\n\r\nconst AuthorAbout = styled.div`\r\n  margin-top: 20px;\r\n  font-size: 14px;\r\n  font-weight: bolder;\r\n  font-family: sans-serif;\r\n  color: #737373;\r\n`;\r\n\r\nconst AuthorHr = styled.div`\r\n  width: 200px;\r\n  height: 1px;\r\n  margin-top: 50px;\r\n  background: rgb(228, 225, 225);\r\n`;\r\n\r\nexport default function AuthorSection() {\r\n  return (\r\n    <Author>\r\n      <AuthorAvatar>\r\n        <AuthorAvatarImage />\r\n      </AuthorAvatar>\r\n      <AuthorName>第五期學生</AuthorName>\r\n      <AuthorAbout>Taiwan</AuthorAbout>\r\n      <AuthorHr />\r\n    </Author>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PostLayout = styled.div`\r\n  max-width: 700px;\r\n  padding: 0px 30px;\r\n  font-family: sans-serif;\r\n  margin-top: 24px;\r\n  overflow-wrap: anywhere;\r\n  @media (max-width: 1000px) {\r\n    width: 80vw;\r\n    max-width: initial;\r\n  }\r\n`;\r\n\r\nconst PostTime = styled.div`\r\n  font-size: 12px;\r\n  margin-bottom: 14px;\r\n  margin-top: 8px;\r\n  color: #a8a8a8;\r\n`;\r\nconst PostTitle = styled(Link)`\r\n  font-size: 24px;\r\n  font-weight: bolder;\r\n  font-family: sans-serif;\r\n  text-decoration: none;\r\n  color: black;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  margin-top: 17px;\r\n  white-space: pre-line;\r\n  line-height: 1.5em;\r\n  height: 70px;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst PostReadMore = styled(Link)`\r\n  display: inline-block;\r\n  color: #198030;\r\n  margin-top: 18px;\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst PostHr = styled.div`\r\n  max-width: 100%;\r\n  height: 1px;\r\n  margin-top: 40px;\r\n  background: rgb(228, 225, 225);\r\n`;\r\n\r\nexport default function Post({ postData }) {\r\n  return (\r\n    <PostLayout key={postData.id}>\r\n      <PostTime>{new Date(postData.createdAt).toDateString()}</PostTime>\r\n      <PostTitle to={`/page/${postData.id}`}>{postData.title}</PostTitle>\r\n      <PostContent>{postData.body}</PostContent>\r\n      <PostReadMore to={`/page/${postData.id}`}>Read more...</PostReadMore>\r\n      <PostHr></PostHr>\r\n    </PostLayout>\r\n  );\r\n}\r\n","import { getAuthToken } from \"./utils\";\r\nexport const BASE_URL = \"https://student-json-api.lidemy.me\";\r\n\r\nexport const getPosts = () => {\r\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const getLimitPosts = (page, limit) => {\r\n  return fetch(\r\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${page}&_limit=${limit}`\r\n  );\r\n};\r\n\r\nexport const getSinglePost = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getMe = () => {\r\n  const token = getAuthToken();\r\n  if (token === \"\") return null;\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const register = (nickname, username, password) => {\r\n  return fetch(`${BASE_URL}/register`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addPost = (title, body) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const deletePost = (id) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n      \"content-type\": \"application/json\",\r\n    },\r\n  });\r\n};\r\n\r\nexport const editPost = (id, newTitle, newBody) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      title: newTitle,\r\n      body: newBody,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  max-width: 1250px;\r\n  display: flex;\r\n  justify-content: left;\r\n  padding-bottom: 50px;\r\n  margin: 0 auto;\r\n  @media (max-width: 1000px) {\r\n    justify-content: left;\r\n  }\r\n`;\r\n\r\nexport const PostsSection = styled.div`\r\n  padding: 0px 30px;\r\n  font-family: sans-serif;\r\n  @media (max-width: 400px) {\r\n    padding: 0px 0px;\r\n  }\r\n`;\r\n\r\nexport const LoadingSection = styled.div`\r\n  width: 680px;\r\n  padding: 350px;\r\n`;\r\n","import React from \"react\";\r\nimport PaginatedSection from \"../../components/PaginatedSection\";\r\nimport AuthorSection from \"../../components/AuthorSection\";\r\nimport Post from \"../../components/Post\";\r\nimport { getLimitPosts } from \"../../WebAPI\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Ring } from \"react-awesome-spinners\";\r\nimport {\r\n  Container,\r\n  PostsSection,\r\n  LoadingSection,\r\n} from \"../../components/HomePage/HomePage\";\r\n\r\nconst LoadingAnima = () => {\r\n  const [loading] = useState(true);\r\n  return loading && <Ring />;\r\n};\r\n\r\nconst perPageCount = 5;\r\n\r\nexport default function HomePage() {\r\n  const [postsData, setPostsData] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // 打 API 並帶上參數，哪一頁和每頁幾筆資料\r\n    const response = getLimitPosts(currentPage + 1, perPageCount);\r\n\r\n    //取得資料\r\n    response\r\n      .then((res) => {\r\n        //取得總筆數\r\n        setTotalCount(res.headers.get(\"x-total-count\"));\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setPostsData(data);\r\n      });\r\n\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  }, [currentPage]);\r\n\r\n  function handlePageClick({ selected: selectedPage }) {\r\n    setCurrentPage(selectedPage);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <AuthorSection />\r\n      {postsData && (\r\n        <PostsSection>\r\n          {postsData.map((postData) => (\r\n            <Post key={postData.id} postData={postData} />\r\n          ))}\r\n          <PaginatedSection\r\n            perPageCount={perPageCount}\r\n            handlePageClick={handlePageClick}\r\n            totalCount={totalCount}\r\n          />\r\n        </PostsSection>\r\n      )}\r\n      {!postsData && (\r\n        <LoadingSection>\r\n          <LoadingAnima />\r\n        </LoadingSection>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const AboutSection = styled.div`\r\n  max-width: 680px;\r\n  padding: 70px 30px 0px 30px;\r\n  font-family: sans-serif;\r\n`;\r\n\r\nexport const AboutTitle = styled.div`\r\n  font-size: 24px;\r\n  font-weight: bolder;\r\n  font-family: sans-serif;\r\n  text-decoration: none;\r\n  color: black;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nexport const AuthorContent = styled.div`\r\n  margin-top: 17px;\r\n  white-space: pre-line;\r\n  line-height: 1.5em;\r\n  overflow: hidden;\r\n`;\r\n","import React from \"react\";\r\nimport AuthorSection from \"../../components/AuthorSection\";\r\nimport {\r\n  Container,\r\n  AboutSection,\r\n  AboutTitle,\r\n  AuthorContent,\r\n} from \"../../components/AboutPage/AboutPage\";\r\n\r\nexport default function AboutPage() {\r\n  return (\r\n    <Container>\r\n      <AuthorSection />\r\n      <AboutSection>\r\n        <AboutTitle>About</AboutTitle>\r\n        <AuthorContent>\r\n          你好，這裡是一群由 Lidemy 的同學所經營的共筆部落格\r\n          <br />\r\n          Lidemy\r\n          程式導師計畫標榜不喊口號也不誇大成效，開放透明的網頁前後端線上學習計畫，試著用六個月的時間，培養出一個找得到工作且基礎紮實的網頁工程師\r\n          <br />\r\n          詳情請洽：\r\n          <a href=\"https://bootcamp.lidemy.com/index.html\">\r\n            https://bootcamp.lidemy.com\r\n          </a>\r\n        </AuthorContent>\r\n      </AboutSection>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-bottom: 50px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const FormSection = styled.form`\r\n  width: 60vw;\r\n  max-width: 1000px;\r\n  display: grid;\r\n  margin-top: 30px;\r\n  padding: 30px 30px 60px 30px;\r\n  border: 1px solid #999595;\r\n  border-radius: 8px;\r\n  background: white;\r\n`;\r\n\r\nexport const FormTitle = styled.div`\r\n  font-size: 30px;\r\n`;\r\n\r\nexport const InputItem = styled.input`\r\n  max-width: 1000px;\r\n  height: 40px;\r\n  font-size: 28px;\r\n  margin-top: 10px;\r\n  border: none;\r\n  border-bottom: 1px solid #999595;\r\n  font-family: MONOSPACE;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n  @media (max-width: 500px) {\r\n    width: 220px;\r\n  }\r\n`;\r\n\r\nexport const InputTextArea = styled.textarea`\r\n  max-width: 1000px;\r\n  height: 600px;\r\n  font-size: 24px;\r\n  margin-top: 16px;\r\n  border: 1px solid #999595;\r\n  border-radius: 5px;\r\n  font-family: MONOSPACE;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n  @media (max-width: 500px) {\r\n    width: 220px;\r\n  }\r\n`;\r\n\r\nexport const PublishSection = styled.div`\r\n  max-width: 1000px;\r\n  margin-top: 20px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  @media (max-width: 500px) {\r\n    width: 220px;\r\n  }\r\n`;\r\n\r\nexport const PublishButtonn = styled.button`\r\n  width: 300px;\r\n  background: green;\r\n  border: none;\r\n  padding: 10px 20px 10px 20px;\r\n  color: white;\r\n  border-radius: 10px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #00800059;\r\n  }\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n","import { useState } from \"react\";\r\nimport { addPost } from \"../../WebAPI\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { successAlert } from \"../../utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  FormSection,\r\n  FormTitle,\r\n  InputItem,\r\n  InputTextArea,\r\n  PublishSection,\r\n  PublishButtonn,\r\n  ErrorMessage,\r\n} from \"../../components/HandlePost/HandlePost\";\r\n\r\nexport default function WritePage() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\" \");\r\n  const { user } = useContext(AuthContext); // 接收 App.js 傳的 context\r\n  const history = useHistory();\r\n\r\n  // 檢查如果沒有登入就返回首頁\r\n\r\n  useEffect(() => {\r\n    if (user === null) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    addPost(title, body).then((data) => {\r\n      if (data.ok === 0) {\r\n        return setErrorMessage(data.message);\r\n      }\r\n      successAlert(\"Publish successfully!\", \"\", \"success\");\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <FormSection onSubmit={handleSubmit}>\r\n        <FormTitle>Write a story.</FormTitle>\r\n        <InputItem\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <InputTextArea\r\n          placeholder=\"Tell your story...\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <PublishSection>\r\n          {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n          <PublishButtonn>發布</PublishButtonn>\r\n        </PublishSection>\r\n      </FormSection>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-bottom: 50px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const FormSection = styled.form`\r\n  display: grid;\r\n  margin-top: 100px;\r\n  padding: 50px 30px 60px 30px;\r\n  border: 1px solid #e1e0e0;\r\n  border-radius: 15px;\r\n  background: white;\r\n`;\r\n\r\nexport const FormTitle = styled.div`\r\n  font-size: 30px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const InputItem = styled.input`\r\n  width: 300px;\r\n  height: 30px;\r\n  font-size: 24px;\r\n  margin: 20px 0px 20px 0px;\r\n  border: none;\r\n  border-bottom: 1px solid black;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const SignButtonn = styled.button`\r\n  margin-top: 20px;\r\n  width: 300px;\r\n  background: green;\r\n  border: none;\r\n  padding: 10px 20px 10px 20px;\r\n  color: white;\r\n  border-radius: 15px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #00800059;\r\n  }\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { useState, useContext } from \"react\";\r\nimport { login, getMe } from \"../../WebAPI\";\r\nimport { setAuthToken, successAlert } from \"../../utils\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  FormSection,\r\n  FormTitle,\r\n  InputItem,\r\n  SignButtonn,\r\n  ErrorMessage,\r\n} from \"../../components/AuthForm/AuthForm\";\r\n\r\nexport default function SignInPage() {\r\n  const { setUser } = useContext(AuthContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"Lidemy\");\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(null);\r\n    login(username, password).then((data) => {\r\n      if (data.ok === 0) {\r\n        return setErrorMessage(data.message);\r\n      }\r\n      setAuthToken(data.token);\r\n\r\n      getMe().then((response) => {\r\n        if (response.ok !== 1) {\r\n          setAuthToken(null);\r\n          return setErrorMessage(response.toString());\r\n        }\r\n        setUser(response.data);\r\n        successAlert(\"Log in successfully!\", \"Welcome back!\", \"success\");\r\n        history.push(\"/\");\r\n      });\r\n    });\r\n  };\r\n  return (\r\n    <Container>\r\n      <FormSection onSubmit={handleSubmit}>\r\n        <FormTitle>Welcome back.</FormTitle>\r\n        <InputItem\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <InputItem\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <div>\r\n          <SignButtonn>登入</SignButtonn>\r\n        </div>\r\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </FormSection>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\nimport { register } from \"../../WebAPI\";\r\nimport { successAlert } from \"../../utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  FormSection,\r\n  FormTitle,\r\n  InputItem,\r\n  SignButtonn,\r\n  ErrorMessage,\r\n} from \"../../components/AuthForm/AuthForm\";\r\n\r\nexport default function SignUpPage() {\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setErrorMessage(null);\r\n    register(nickname, username, password).then((data) => {\r\n      if (data.ok === 0) {\r\n        return setErrorMessage(data.message);\r\n      }\r\n      successAlert(\r\n        \"Sign up successfully!\",\r\n        \"Please Sign in to explore more\",\r\n        \"success\"\r\n      );\r\n      history.push(\"/signin\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <FormSection onSubmit={handleSubmit}>\r\n        <FormTitle>Welcome to sign up.</FormTitle>\r\n        <InputItem\r\n          placeholder=\"Nickname\"\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n        />\r\n        <InputItem\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <InputItem\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <div>\r\n          <SignButtonn>註冊</SignButtonn>\r\n        </div>\r\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </FormSection>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Root = styled.div`\r\n  max-width: 700px;\r\n  margin: 40px auto;\r\n`;\r\n\r\nexport const PostContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const PostTitle = styled.div`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const PostDate = styled.div`\r\n  color: rgba(0, 0, 0, 0.8);\r\n  font-size: 14px;\r\n  color: #afadad;\r\n  margin: 20px 0px 20px 0px;\r\n`;\r\n\r\nexport const PostContent = styled.div`\r\n  margin-top: 28px;\r\n  font-size: 24px;\r\n`;\r\n\r\nexport const LoadingSection = styled.div`\r\n  width: 680px;\r\n  padding: 200px 300px;\r\n`;\r\n\r\nexport const ButtonSection = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const PostEditButton = styled(Link)`\r\n  width: 60px;\r\n  background: green;\r\n  border: none;\r\n  color: white;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  margin: 6px 6px 6px 0px;\r\n  text-align: center;\r\n  padding: 4px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    background: #00800059;\r\n  }\r\n`;\r\n\r\nexport const PostDeleteButton = styled.div`\r\n  width: 60px;\r\n  background: #9b2233;\r\n  border: none;\r\n  color: white;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  margin: 6px 6px 6px 0px;\r\n  text-align: center;\r\n  padding: 4px;\r\n  &:hover {\r\n    background: #cf4d59;\r\n  }\r\n`;\r\n","import { React, useContext, useEffect, useState, useRouter } from \"react\"; // import React from 'react' //useRef 是 hook\r\nimport { Ring } from \"react-awesome-spinners\";\r\nimport { getSinglePost } from \"../../WebAPI\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { deletePost } from \"../../WebAPI\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport {\r\n  Root,\r\n  PostContainer,\r\n  PostTitle,\r\n  PostDate,\r\n  PostContent,\r\n  LoadingSection,\r\n  ButtonSection,\r\n  PostEditButton,\r\n  PostDeleteButton,\r\n} from \"../../components/SinglePage/SinglePage\";\r\n\r\nconst LoadingAnima = () => {\r\n  const [loading] = useState(true);\r\n  return loading && <Ring />;\r\n};\r\n\r\nexport default function SinglePage() {\r\n  const [singlePosts, setSinglePosts] = useState(\"\");\r\n  const [postAuth, setPostAuth] = useState(null);\r\n  const { slug } = useParams();\r\n  const { user } = useContext(AuthContext); // 接收 App.js 傳的 context\r\n\r\n  useEffect(() => {\r\n    getSinglePost(slug).then((posts) => {\r\n      setSinglePosts(posts[0]);\r\n      if (user && user.id === posts[0].userId) {\r\n        setPostAuth(true);\r\n      }\r\n    });\r\n  }, [slug]);\r\n\r\n  const handleDeletePost = async () => {\r\n    const result = await deletePost(singlePosts.id);\r\n    if (result) {\r\n      window.location.assign(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      {singlePosts && (\r\n        <PostContainer>\r\n          <PostTitle>{singlePosts.title}</PostTitle>\r\n          <PostDate>{new Date(singlePosts.createdAt).toDateString()}</PostDate>\r\n          {postAuth && (\r\n            <ButtonSection>\r\n              <PostEditButton to={`/edit/${singlePosts.id}`}>\r\n                編輯\r\n              </PostEditButton>\r\n              <PostDeleteButton onClick={handleDeletePost}>\r\n                刪除\r\n              </PostDeleteButton>\r\n            </ButtonSection>\r\n          )}\r\n        </PostContainer>\r\n      )}\r\n      {singlePosts && <PostContent>{singlePosts.body}</PostContent>}\r\n      {!singlePosts && (\r\n        <LoadingSection>\r\n          <LoadingAnima />\r\n        </LoadingSection>\r\n      )}\r\n    </Root>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { useState } from \"react\";\r\nimport { editPost, getSinglePost } from \"../../WebAPI\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { successAlert } from \"../../utils\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  FormSection,\r\n  FormTitle,\r\n  InputItem,\r\n  InputTextArea,\r\n  PublishSection,\r\n  PublishButtonn,\r\n  ErrorMessage,\r\n} from \"../../components/HandlePost/HandlePost\";\r\n\r\nexport default function EditPage() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [singlePosts, setSinglePosts] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\" \");\r\n  const { user } = useContext(AuthContext); // 接收 App.js 傳的 context\r\n  const { slug } = useParams();\r\n  const history = useHistory();\r\n\r\n  // 檢查如果沒有登入就返回首頁\r\n  useEffect(() => {\r\n    if (user === null) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getSinglePost(slug).then((posts) => {\r\n      if (user && user.id !== posts[0].userId) {\r\n        window.location.assign(\"/\");\r\n      }\r\n      setSinglePosts(posts[0]);\r\n      setTitle(posts[0].title);\r\n      setBody(posts[0].body);\r\n    });\r\n  }, [slug]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (title === \"\" || body === \"\")\r\n      return setErrorMessage(\"Title or content is required\");\r\n    editPost(singlePosts.id, title, body).then((data) => {\r\n      if (data.ok === 0) {\r\n        return setErrorMessage(data.message);\r\n      }\r\n      successAlert(\"Change successfully!\", \"\", \"success\");\r\n      history.push(`/page/${singlePosts.id}`);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <FormSection onSubmit={handleSubmit}>\r\n        <FormTitle>Edit your story.</FormTitle>\r\n        <InputItem\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <InputTextArea\r\n          placeholder=\"Tell your story...\"\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        />\r\n        <PublishSection>\r\n          {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n          <PublishButtonn>修改完成</PublishButtonn>\r\n        </PublishSection>\r\n      </FormSection>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../Header\";\r\nimport HomePage from \"../../pages/HomePage\";\r\nimport AboutPage from \"../../pages/AboutPage\";\r\nimport WritePage from \"../../pages/WritePage\";\r\nimport SignInPage from \"../../pages/SignInPage\";\r\nimport SignUpPage from \"../../pages/SignUpPage\";\r\nimport SinglePage from \"../../pages/SinglePage\";\r\nimport EditPage from \"../../pages/EditPage\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../contexts\";\r\nimport { getMe } from \"../../WebAPI\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nconst Root = styled.div``;\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(async () => {\r\n    // 有 token 才 call api 確認登入狀況\r\n    const response = await getMe();\r\n    if (response && response.ok === 1) {\r\n      setUser(response.data);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser }}>\r\n      <Root>\r\n        <Router>\r\n          <Header />\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <HomePage />\r\n            </Route>\r\n            <Route path=\"/about\">\r\n              <AboutPage />\r\n            </Route>\r\n            <Route path=\"/write\">\r\n              <WritePage />\r\n            </Route>\r\n            <Route path=\"/edit/:slug\">\r\n              <EditPage />\r\n            </Route>\r\n            <Route path=\"/signin\">\r\n              <SignInPage />\r\n            </Route>\r\n            <Route path=\"/signup\">\r\n              <SignUpPage />\r\n            </Route>\r\n            <Route path=\"/page/:slug\">\r\n              <SinglePage />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </Root>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./components/App/index\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}